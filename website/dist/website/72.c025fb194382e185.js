"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[72],{9072:(v,d,a)=>{a.r(d),a.d(d,{AdminModule:()=>Z});var l=a(6814),r=a(8589),t=a(4946),u=a(2266);const h=["enteriestable"],p=["scoretable"];function b(n,c){1&n&&t._UZ(0,"i",18)}function g(n,c){if(1&n&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA()()),2&n){const e=c.$implicit,o=c.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(null==e?null:e.first_name),t.xp6(2),t.Oqu(null==e?null:e.last_name),t.xp6(2),t.Oqu(null==e?null:e.email),t.xp6(2),t.Oqu(null==e?null:e.mobile),t.xp6(2),t.Oqu(null==e?null:e.profession),t.xp6(2),t.Oqu(null==e?null:e.state),t.xp6(2),t.Oqu(null==e?null:e.city)}}const f=[{path:"",component:(()=>{class n{constructor(e,o){this.router=e,this.app_service=o,this.entries=[],this.scores=[],this.is_loading=!1,this.table="enteries",this.get_data()}select_data(e){this.table=e?.target?.value,this.get_data()}get_data(){this.scores=[],this.entries=[],this.is_loading=!0,"enteries"===this.table&&this.app_service.getAllEnteries().subscribe(e=>{e.success&&(this.entries=e.data,console.log(this.entries)),this.is_loading=!1},e=>{console.log(e),this.is_loading=!1,alert("Oops! something went wrong")})}export_data(){if("enteries"===this.table){const e=this.convertToCsv(this.entries);this.downloadCsv(e,"hp_data")}if("scores"===this.table){const e=this.convertToCsv(this.scores);this.downloadCsv(e,"scores_data")}}convertToCsv(e){return`${Object.keys(e[0]).join(",")}\n${e.map(s=>Object.values(s).join(",")).join("\n")}`}downloadCsv(e,o){const i=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(void 0!==s.download){const _=URL.createObjectURL(i);s.setAttribute("href",_),s.setAttribute("download",o),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}logout(){this.app_service.logout()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(r.F0),t.Y36(u.z))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(o,i){if(1&o&&(t.Gf(h,5),t.Gf(p,5)),2&o){let s;t.iGM(s=t.CRH())&&(i.enteriestable=s.first),t.iGM(s=t.CRH())&&(i.scoretable=s.first)}},decls:41,vars:2,consts:[[1,"navbar","bg-dark","border-bottom","border-body"],[1,"container-fluid"],[1,"navbar-brand",2,"color","white"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["type","button",1,"btn","btn-outline-success","btn-normal",3,"click"],[1,"card"],[1,"card-body","search"],[1,"d-flex","justify-content-between","align-items-center"],["class","fas fa-spinner fa-spin mx-2",4,"ngIf"],["title","Download data",1,"btn","btn-normal","mx-2",3,"click"],[1,"fas","fa-download"],[1,"table-responsive",2,"height","calc(100vh - 165px)"],[1,"table","table-striped"],["enteriestable",""],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin","mx-2"],["scope","row"]],template:function(o,i){1&o&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t._uU(3,"ADMIN"),t.qZA(),t.TgZ(4,"button",3),t._UZ(5,"span",4),t.qZA(),t.TgZ(6,"button",5),t.NdJ("click",function(){return i.logout()}),t._uU(7,"logout"),t.qZA()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"h3"),t._uU(12,"OMEN Navigation"),t.qZA(),t.TgZ(13,"div",8),t.YNc(14,b,1,0,"i",9),t.TgZ(15,"button",10),t.NdJ("click",function(){return i.export_data()}),t._UZ(16,"i",11),t.qZA()()()()(),t.TgZ(17,"div")(18,"div",12)(19,"table",13,14)(21,"thead",15)(22,"tr")(23,"th",16),t._uU(24,"#"),t.qZA(),t.TgZ(25,"th",16),t._uU(26,"Name"),t.qZA(),t.TgZ(27,"th",16),t._uU(28,"Surname"),t.qZA(),t.TgZ(29,"th",16),t._uU(30,"Email"),t.qZA(),t.TgZ(31,"th",16),t._uU(32,"Contact number"),t.qZA(),t.TgZ(33,"th",16),t._uU(34,"Profession"),t.qZA(),t.TgZ(35,"th",16),t._uU(36,"State"),t.qZA(),t.TgZ(37,"th",16),t._uU(38,"City"),t.qZA()()(),t.TgZ(39,"tbody"),t.YNc(40,g,17,8,"tr",17),t.qZA()()()()),2&o&&(t.xp6(14),t.Q6J("ngIf",i.is_loading),t.xp6(26),t.Q6J("ngForOf",i.entries))},dependencies:[l.sg,l.O5],styles:[".w-200[_ngcontent-%COMP%]{width:200px}.search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#fff;border:1px solid #ccc;border-radius:3px}"]})}return n})()}];let m=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(f),r.Bz]})}return n})(),Z=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[l.ez,r.Bz,m]})}return n})()}}]);